Linux下常見網絡命令

資料來源: https://mp.weixin.qq.com/s/DkONYYQvqMRzDM61LRP0BA

▲.ping命令  
	ping命令用來測試主機之間網絡的連通性。執行ping指令會使用ICMP傳輸協議，發出要求回應的資訊，若遠端主機的網絡功能沒有問題，就會回應該資訊，因而得知該主機運作正常。
	ping  (選項）目的地址
	選項
		-d：使用Socket的SO_DEBUG功能；

		-c<完成次數>：設置完成要求回應的次數；

		-f：極限檢測；

		-i<間隔秒數>：指定收發資訊的間隔時間；

		-L<網路介面>：使用指定的網路介面送出資料包；

		-l<前置載入>：設置在送出要求資訊之前，先行發出的資料包；

		-n：只輸出數值；

		-p<範本樣式>：設置填滿資料包的範本樣式；

		-q：不顯示指令執行過程，開頭和結尾的相關資訊除外；

		-r：忽略普通的Routing Table，直接將資料包送到遠端主機上；

		-R：記錄路由過程；

		-s<數據包大小>：設置數據包的大小；

		-v：詳細顯示指令的執行過程。

		-t<存活數值>：設置存活數值TTL的大小
	
	
▲.netstat命令 
	netstat命令用來列印Linux中網絡系統的狀態資訊，可讓你得知整個Linux系統的網絡情況。
	netstat（選項）
	選項
		-a或–all：顯示所有連線中的Socket；

		-A<網路類型>或–<網路類型>：列出該網路類型連線中的相關位址；

		-c或–continuous：持續列出網路狀態；

		-C或–cache：顯示路由器配置的快取資訊；

		-e或–extend：顯示網路其他相關資訊；

		-F或–fib：顯示FIB；

		-g或–groups：顯示多重廣播功能群組組員名單；

		-h或–help：線上說明；

		-i或–interfaces：顯示網路介面資訊表單；

		-l或–listening：顯示監控中的伺服器的Socket；

		-M或–masquerade：顯示偽裝的網路連線；

		-n或–numeric：直接使用ip位址，而不通過功能變數名稱伺服器；

		-N或–netlink或–symbolic：顯示網路硬體週邊設備的符號連接名稱；

		-o或–timers：顯示計時器；

		-p或–programs：顯示正在使用Socket的程式識別碼和程式名稱；

		-r或–route：顯示Routing Table；

		-s或–statistice：顯示網路工作資訊統計表；

		-t或–tcp：顯示TCP傳輸協定的連線狀況；

		-u或–udp：顯示UDP傳輸協定的連線狀況；

		-v或–verbose：顯示指令執行過程；

		-V或–version：顯示版本資訊；

		-w或–raw：顯示RAW傳輸協定的連線狀況；

		-x或–unix：此參數的效果和指定”-A unix”參數相同；

		–ip或–inet：此參數的效果和指定”-A inet”參數相同	


▲.ifconfig命令 
	ifconfig命令被用於配置和顯示Linux內核中網絡介面的網絡參數。用ifconfig命令配置的網卡資訊，在網卡重啟後機器重啟後，配置就不存在。要想將上述的配置資訊永遠的存的電腦裡，那就要修改網卡的設定檔了。		
	ifconfig（參數）
	參數
		add<地址>：設置網路設備IPv6的ip位址

		del<地址>：刪除網路設備IPv6的IP位址

		down：關閉指定的網路設備

		io_addr< I/O地址>：設置網路設備的I/O位址

		irq< IRQ地址>：設置網路設備的IRQ；

		media<網路媒介類型>：設置網路設備的媒介類型；

		mem_start<記憶體位址>：設置網路設備在主記憶體所佔用的起始位址；

		metric<數目>：指定在計算資料包的轉送次數時，所要加上的數目；

		mtu<位元組>：設置網路設備的MTU；

		netmask<子網路遮罩>：設置網路設備的子網路遮罩；

		tunnel<地址>：建立IPv4與IPv6之間的隧道通信地址；

		up：啟動指定的網路設備；

		-broadcast<地址>：將要送往指定位址的資料包當成廣播資料包來處理；

		-pointopoint<地址>：與指定位址的網路設備建立直接連線，此模式具有保密功能；

		-promisc：關閉或啟動指定網路設備的promiscuous模式；

		IP地址：指定網路設備的IP位址；

		網路設備：指定網路設備的名稱。
		
		
▲.route命令
	route命令用來顯示並設置Linux內核中的網路路由表，route命令設置的路由主要是靜態路由。要注意的是，直接在命令列下執行route命令來添加路由，不會永久保存，當網卡重啟或者機器重啟之後，該路由就失效了；可以在*/etc/rc.local中添加route命令來保證該路由設置永久有效。		
	route（選項）（參數）
	選項
		-A：設置網址類別型；

		-C：列印將Linux核心的路由緩存；

		-v：詳細資訊模式；

		-n：不執行DNS反向查找，直接顯示數位形式的IP位址；

		-e：netstat格式顯示路由表；

		-net：到一個網路的路由表；

		-host：到一個主機的路由表。
	參數
		Add：增加指定的路由記錄

		Del：刪除指定的路由記錄

		Target：目的網路或目的主機

		gw：設置預設閘道器

		mss：設置TCP的最大區塊長度(MSS)，單位為MB

		window：指定通過路由表的TCP連接的TCP視窗大小

		dev：路由記錄所表示的網路介面
		

▲.arp命令
	arp命令用於操作主機arp緩衝區，可以顯示arp緩衝區的所有條目、刪除指定條目或增加靜態IP地址與MAC地址的對應關係		
	arp（選項）（參數）
	選項
		-a<主機>：顯示arp緩衝區的所有條目

		-H<網址類別型>：指定arp指令使用的網址類別型

		-d<主機>：從arp緩衝區中刪除指定主機的arp條目

		-D：使用指定介面的硬體位址

		-e：以Linux的顯示風格顯示arp緩衝區中的條目

		-i<介面>：指定要操作arp緩衝區的網路介面

		-s<主機><硬體位址>：設置指定主機的IP位址與MAC位址的靜態映射

		-n：以數位元方式顯示arp緩衝區中的條目

		-v：顯示詳細的arp緩衝區條目，包括緩衝區條目的統計資訊

		-f<文件>：設置主機的IP位址與MAC位址的靜態映射
		

▲.traceroute命令
	traceroute命令用於追蹤資料包在網路上傳輸時的全部路徑，它默認發送的數據包大小是40字節通過traceroute我們可以知道資訊從你的電腦到互聯網另一端的主機是走的什麼路徑。當然每次數據包由某一同樣的出發點（source）到達某一同樣的目的地(destination)走的路徑可能會不一樣，但基本上來說大部分時候所走的路由是相同的。traceroute通過發送小的數據包到目的設備直到其返回，來測量其需要多長時間。一條路徑上的每個設備traceroute要測3次。輸出結果中包括每次測試的時間(ms)和設備的名稱（如有的話）及其ip地址
	traceroute（選項）（參數）
	選項
		-d：使用Socket層級的排錯功能

		-f<存活時間>：設置第一個檢測資料包的存活數值TTL的大小

		-F：設置勿離斷位

		-g<閘道>：設置來源路由閘道，最多可設置8個

		-i<網路介面>：使用指定的網路介面送出資料包

		-l：使用ICMP回應取代UDP資料資訊

		-m<存活數值>：設置檢測資料包的最大存活數值TTL的大小

		-n：直接使用IP位址而非主機名稱

		-p<通訊連接埠>：設置UDP傳輸協議的通訊連接埠

		-r：忽略普通的Routing Table，直接將資料包送到遠端主機上

		-s<來源地址>：設置本地主機送出資料包的TOS數值

		-v：詳細顯示指令的執行過程

		-w<超時秒數>：設置等待遠端主機回報的時間

		-x：開啟或關閉資料包的正確性檢驗


▲.host命令
	host命令是常用的分析功能變數名稱查詢工具，可以檢測功能變數名稱系統工作是否正常
	host（選項）（參數）
	選項
		-a：顯示詳細的DNS資訊

		-c<類型>：指定查詢類型，預設值為“IN”

		-C：查詢指定主機的完整SOA記錄

		-r：在查詢功能變數名稱時，不使用遞迴的查詢方式

		-t<類型>：指定查詢第功能變數名稱資訊類型

		-v：顯示指令執行的詳細資訊

		-a：顯示詳細的DNS資訊；

		-w：如果功能變數名稱伺服器沒有給出應答資訊，則一直等待，直到功能變數名稱伺服器給出應答

		-W<時間>：指定功能變數名稱查詢的最長時間，如果在指定時間內功能變數名稱伺服器沒有給出應答資訊，則退出指令

		-4：使用IPv4

		-6：使用IPv6


▲.tcpdump命令
	tcpdump命令是一款抓取數據包的工具，它可以列印所有經過網絡介面的數據包的頭資訊，也可以使用-w選項將數據包保存到檔中，方便以後分析。
	tcpdump（選項）
	選項
		-a：嘗試將網路和廣播位址轉換成名稱；

		-c<資料包數目>：收到指定的資料包數目後，就停止進行傾倒操作；

		-d：把編譯過的資料包編碼轉換成可閱讀的格式，並傾倒到標準輸出；

		-dd：把編譯過的資料包編碼轉換成C語言的格式，並傾倒到標準輸出；

		-ddd：把編譯過的資料包編碼轉換成十進位數字字的格式，並傾倒到標準輸出；

		-e：在每列傾倒資料上顯示連接層級的檔頭；

		-f：用數字顯示網際網路位址；

		-F<表達檔>：指定內含表達方式的檔；

		-i<網路介面>：使用指定的網路截面送出資料包；

		-l：使用標準輸出列的緩衝區；

		-n：不把主機的網路位址轉譯成名字；

		-N：不列出功能變數名稱；

		-O：不將資料包編碼最佳化；

		-p：不讓網路介面進入混雜模式；

		-q ：快速輸出，僅列出少數的傳輸協定資訊；

		-r<資料包檔>：從指定的檔讀取資料包資料；

		-s<數據包大小>：設置每個資料包的大小；

		-S：用絕對而非相對數值列出TCP關聯數；

	-t：在每列傾倒資料上不顯示時間戳記記；

	-tt：在每列傾倒資料上顯示未經格式化的時間戳記記；

	-T<資料包類型>：強制將表達方式所指定的資料包轉譯成設置的資料包類型；

	-v：詳細顯示指令執行過程；

	-vv：更詳細顯示指令執行過程；

	-x：用十六進位字碼列出資料包資料；

	-w<資料包檔>：把資料包資料寫入指定的檔。
		
